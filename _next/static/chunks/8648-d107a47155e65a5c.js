"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8648],{8648:function(a,b,c){c.d(b,{v:function(){return ah}});var d=c(8014),e=c(6168),f=c(7787),g=c(9825),h=c(8440),i=c(169),j=c(7004),k=c(8361),l=c(2574);function m(){var a=(0,g.Z)(["\n  width: 310px;\n  position: absolute;\n  z-index: 12;\n  top: 35px;\n  left: 20px;\n  color: #fff;\n  background: transparent;\n\n  transform-origin: center -20px;\n  -webkit-animation: "," 4s ease-in-out forwards infinite;\n  animation: "," 4s ease-in-out forwards infinite;\n"]);return m=function(){return a},a}function n(){var a=(0,g.Z)(["\n      @media only screen and (min-width: ",") {\n        ","\n        top: 0;\n      }\n    "]);return n=function(){return a},a}function o(){var a=(0,g.Z)(["\n  bottom: auto;\n  top: 65px;\n  width: auto;\n  left: 0;\n  background: ",";\n  background-color: #7749de;\n  animation: none;\n\n  ","\n\n  ","\n"]);return o=function(){return a},a}function p(){var a=(0,g.Z)(["\n  height: 290px;\n  top: 45px;\n  overflow: visible;\n\n  .acquisition-offer-background {\n    display: block;\n  }\n"]);return p=function(){return a},a}function q(){var a=(0,g.Z)(["\n      ",";\n      background: ",";\n    "]);return q=function(){return a},a}function r(){var a=(0,g.Z)(["\n      @media only screen and (min-width: ",") {\n        ",";\n        background: ",";\n      }\n    "]);return r=function(){return a},a}function s(){var a=(0,g.Z)(["\n  top: 0;\n  min-height: ",";\n  overflow: hidden;\n  position: relative;\n  text-align: center;\n\n  .acquisition-offer-background {\n    display: none;\n  }\n  ","\n\n  ","\n"]);return s=function(){return a},a}function t(){var a=(0,g.Z)(["\n      transform: translate(50%, -50%) rotate(1.3deg);\n    "]);return t=function(){return a},a}function u(){var a=(0,g.Z)(["\n      @media only screen and (min-width: ",") {\n        transform: translate(50%, -50%) rotate(1.3deg);\n      }\n    "]);return u=function(){return a},a}function v(){var a=(0,g.Z)(["\n      p {\n        font-weight: bold;\n        line-height: 16px;\n      }\n\n      img {\n        width: auto;\n        height: 105px;\n      }\n    "]);return v=function(){return a},a}function w(){var a=(0,g.Z)(["\n  width: 100%;\n  padding: 0 35px;\n  position: absolute;\n  z-index: 3;\n  top: 50%;\n  right: 50%;\n  transform: translate(50%, -50%);\n\n  ","\n\n  ","\n\n\n  h2 {\n    font-size: 20px !important;\n    line-height: 20px !important;\n    margin: 0;\n    color: #fff;\n  }\n\n  p {\n    margin: 0 auto;\n    padding: 0 15px;\n  }\n\n  h3 {\n    font-size: 18px !important;\n    font-size: 18px !important;\n    margin: 0;\n  }\n\n  ","\n"]);return w=function(){return a},a}function x(){var a=(0,g.Z)(["\n  cursor: pointer;\n  p {\n    font-weight: bold;\n  }\n\n  img {\n    margin: 5px 0;\n\n    &:hover {\n      animation: "," 0.3s ease-in-out infinite;\n    }\n  }\n"]);return x=function(){return a},a}function y(){var a=(0,g.Z)(["\n  top: -10px;\n  left: -10px;\n  background: #fff;\n  color: #000;\n  border: 2px solid #000;\n"]);return y=function(){return a},a}function z(){var a=(0,g.Z)(["\n      @media only screen and (min-width: ",") {\n        ","\n      }\n    "]);return z=function(){return a},a}function A(){var a=(0,g.Z)(["\n  position: absolute;\n  z-index: 5;\n  right: 10px;\n  left: 5px;\n  right: auto;\n  width: 30px;\n  height: 30px;\n  top: 5px;\n  line-height: 0;\n  border-radius: 15px;\n  padding-bottom: 2px;\n  border: 1px solid #fff;\n  color: #fff;\n  background-color: transparent;\n  cursor: pointer;\n\n  ","\n\n  ","\n"]);return A=function(){return a},a}function B(){var a=(0,g.Z)(["\n      display: block;\n    "]);return B=function(){return a},a}function C(){var a=(0,g.Z)(["\n      @media only screen and (min-width: ",") {\n        display: block;\n      }\n    "]);return C=function(){return a},a}function D(){var a=(0,g.Z)(["\n  height: 73px;\n  position: absolute;\n  top: -64px;\n  left: 84px;\n  display: none;\n\n  ","\n\n  ","\n"]);return D=function(){return a},a}function E(){var a=(0,g.Z)(["\n  position: absolute;\n  left: 0;\n  background-color: #fff;\n"]);return E=function(){return a},a}function F(){var a=(0,g.Z)(["\n  font-size: 14px;\n  line-height: 14px;\n  font-weight: normal !important;\n"]);return F=function(){return a},a}var G=(0,k.iv)(m(),h.mD,h.mD),H=k.ZP.div.withConfig({componentId:"sc-beb22726-0"})(o(),function(a){return a.gradient},function(a){return a.isIframed&&!a.isIframeFullscreen&&G},function(a){return!a.isIframed&&(0,k.iv)(n(),j.q.lg,G)}),I=(0,k.iv)(p()),J=k.ZP.div.withConfig({componentId:"sc-beb22726-1"})(s(),function(a){return a.isIframed?"210px":"170px"},function(a){return a.isIframed&&!a.isIframeFullscreen&&(0,k.iv)(q(),I,a.backgroundImage)},function(a){return!a.isIframed&&(0,k.iv)(r(),j.q.lg,I,a.backgroundImage)}),K=k.ZP.div.withConfig({componentId:"sc-beb22726-2"})(w(),function(a){return a.isIframed&&!a.isIframeFullscreen&&(0,k.iv)(t())},function(a){return!a.isIframed&&(0,k.iv)(u(),j.q.lg)},function(a){return!a.isWrapped&&(0,k.iv)(v())}),L=(0,k.ZP)(i.kC).attrs({direction:"column",align:"center"}).withConfig({componentId:"sc-beb22726-3"})(x(),h.lL),M=(0,k.iv)(y()),N=(0,k.ZP)(i.kC).attrs({justify:"center",align:"center"}).withConfig({componentId:"sc-beb22726-4"})(A(),function(a){return a.isIframed&&!a.isIframeFullscreen&&M},function(a){return!a.isIframed&&(0,k.iv)(z(),j.q.lg,M)}),O=k.ZP.img.attrs({alt:"offer decorator",src:"/_assets/images/offer-decorator.svg"}).withConfig({componentId:"sc-beb22726-5"})(D(),function(a){return a.isIframed&&!a.isIframeFullscreen&&(0,k.iv)(B())},function(a){return!a.isIframed&&(0,k.iv)(C(),j.q.lg)}),P=k.ZP.div.withConfig({componentId:"sc-beb22726-6"})(E()),Q=(0,k.ZP)(l.n).withConfig({componentId:"sc-beb22726-7"})(F()),R=c(5332),S=c(6826),T=c(2502),U=c(4743),V=c(3828),W=c(9236),X=c(8665);function Y(){var a=(0,g.Z)(["\n  ","\n\n  @media only screen and (min-width: ",") {\n    max-width: 110px;\n  }\n"]);return Y=function(){return a},a}var Z=k.ZP.div.withConfig({componentId:"sc-86d9f63c-0"})(Y(),function(a){return!a.isIframed&&"max-width: 50px;"},j.q.lg),$=function(a){var b=a.onClick,c=a.title,e=a.text,g=a.ctaText,h=a.image,i=a.isIframed,j=a.isIframeFullscreen;return(0,d.jsxs)(K,{isWrapped:!0,isIframed:i,isIframeFullscreen:j,children:[(0,d.jsx)(W.Z,{align:"center",level:"h2",children:c}),(0,d.jsx)(X.Z,{color:"white",align:"center",children:e}),h.responsiveImage&&(0,d.jsxs)(L,{onClick:b,children:[(0,d.jsx)(Z,{isIframed:i,children:(0,d.jsx)(f.E,{data:h.responsiveImage,objectFit:"contain",usePlaceholder:!1})}),(0,d.jsx)(W.Z,{color:"white",level:"h3",children:g})]})]})};function _(){var a=(0,g.Z)(["\n      max-width: 150px;\n      max-height: 150px;\n    "]);return _=function(){return a},a}function aa(){var a=(0,g.Z)(["\n      @media only screen and (min-width: ",") {\n        max-width: 150px;\n        max-height: 150px;\n      }\n    "]);return aa=function(){return a},a}function ab(){var a=(0,g.Z)(["\n  display: flex;\n  margin: 0 auto;\n  max-width: 70px;\n  max-height: 70px;\n\n  ","\n  ","\n"]);return ab=function(){return a},a}var ac=k.ZP.div.withConfig({componentId:"sc-e60b8d70-0"})(ab(),function(a){return a.isIframed&&!a.isIframeFullscreen&&(0,k.iv)(_())},function(a){return!a.isIframed&&(0,k.iv)(aa(),j.q.lg)}),ad=function(a){var b=a.onClose,c=a.text,e=a.image,g=a.instructions,h=a.isIframed,i=a.isIframeFullscreen;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(K,{isWrapped:!1,isIframed:h,isIframeFullscreen:i,children:[(0,d.jsx)(X.Z,{align:"center",color:"#fff",children:c}),(0,d.jsx)(X.Z,{align:"center",color:"#fff",children:"+"}),(0,d.jsx)(ac,{isIframed:h,isIframeFullscreen:i,children:(0,d.jsx)(f.E,{style:{margin:"0 auto"},data:e.responsiveImage,objectFit:"contain",usePlaceholder:!1})}),(0,d.jsx)(Q,{color:"#fff",children:g})]}),(0,d.jsx)(N,{isIframed:h,isIframeFullscreen:i,onClick:b,children:"x"})]})},ae=c(5840),af=c(5439),ag={NO_OFFER:"no-offer",READY:"ready",INITIALIZE:"initialize",RE_SIZE:"re-size",CLOSE:"close",REDEEM:"redeem"},ah=function(a){var b,c,g=a.affiliate,h=function(a){var b=a.data,c=b.action,d=b.data;(c===ag.INITIALIZE||c===ag.RE_SIZE)&&w(d.isFullscreen)},i=(0,R.useRouter)().locale,j=(0,ae.Z)().setItem,k=(0,S.getCookie)("X-Country"),l=(0,e.useState)(),m=l[0],n=l[1],o=(0,e.useState)(!0),p=o[0],q=o[1],r=(0,e.useState)(!1),s=r[0],t=r[1],u=(0,e.useState)(!1),v=u[0],w=u[1],x=((0,af.b)()||{}).isIframed,y=(b=h,c=(0,e.useCallback)(function(a){window.parent.postMessage(a,"*")},[]),(0,e.useEffect)(function(){if(b)return window.addEventListener("message",b),function(){window.removeEventListener("message",b)}},[b]),{sendMessage:c}).sendMessage;(0,U.ZP)([V.Z,i,g],T.td,{onSuccess:function(a){var b=a.offers,c=null==b?void 0:b.find(function(a,c){var d=a.countries;if(d.length){if(d.includes(k))return a}else if(c===b.length-1)return a});c?(j("gift_code",c.redeemCode),n(c),x&&y({action:ag.READY,data:{redeemCode:null==c?void 0:c.redeemCode}})):x&&y({action:ag.NO_OFFER})}});var z="linear-gradient(90deg,".concat(null==m?void 0:m.mobileGradientStart.hex,",").concat(null==m?void 0:m.mobileGradientStop.hex,")");return m&&!s?(0,d.jsx)(H,{isIframed:x,gradient:z,isIframeFullscreen:v,children:(0,d.jsxs)(J,{isIframeFullscreen:v,isIframed:x,gradient:z,backgroundImage:m.containerBackground.hex,children:[(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(O,{isIframed:x,isIframeFullscreen:v}),(0,d.jsx)(P,{className:"acquisition-offer-background",children:m.background.responsiveImage&&(0,d.jsx)(f.E,{data:m.background.responsiveImage,objectFit:"cover",usePlaceholder:!1})})]}),p&&(0,d.jsx)($,{onClick:function(){return q(!1)},title:m.title,text:m.description,ctaText:m.callToAction,image:m.wrappedGift,isIframed:x,isIframeFullscreen:v}),!p&&(0,d.jsx)(ad,{text:m.giftContent,image:m.gift,instructions:m.instructions,isIframed:x,isIframeFullscreen:v,onClose:function(){x&&y({action:ag.CLOSE}),t(!0)}})]})}):null}}}])